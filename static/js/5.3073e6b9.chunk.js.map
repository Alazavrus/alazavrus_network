{"version":3,"sources":["components/common/FormsControls/FormsControls.js","assets/images/warning.png","components/common/Errors/PopupError/PopupError.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/common/FormsControls/FormsControls.module.css","components/common/Errors/PopupError/PopupError.module.css","utils/validators.js","components/common/SubmitButton/SubmitButton.js","components/common/SubmitButton/SubmitButton.module.css","assets/images/user-logo.png","components/common/Avatar/Avatar.jsx","components/common/Avatar/Avatar.module.css","components/Dialogs/MessageItems/MessageItems.module.css","components/Dialogs/DialogsItem/DialogsItem.module.css","components/Dialogs/MessageItem/MessageItem.module.css","components/Dialogs/SenderMessageForm/SenderMessageForm.module.css","components/Dialogs/DialogsItem/DialogsItem.jsx","components/Dialogs/DialogsItems/DialogsItems.jsx","components/Dialogs/DialogsItems/DialogsItemsContainer.js","components/Dialogs/MessageItem/MessageItem.jsx","components/Dialogs/MessageItems/MessageItems.jsx","components/Dialogs/MessageItems/MessageItemsContainer.jsx","components/Dialogs/MessageItems/MessageItemsHeader.jsx","components/Dialogs/SenderMessageForm/SenderMessageForm.js","components/Dialogs/DialogsContainer.jsx"],"names":["FormsControl","input","meta","label","children","isHasError","touched","error","isHasWarning","active","warning","setStyleClass","cn","style","formControl","className","input_block","error_block__icon","src","warningIcon","alt","warn_block","warn_block__icon","warn_block__text","Textarea","props","textarea","Input","Toggle","toggle","slider","Checkbox","Select","FieldInput","component","FieldSearchInput","type","FieldTextarea","FieldToggle","FieldCheckbox","FieldSelect","PopupError","css","error_block__text","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","required","maxLengthCreator","maxLength","notWorkingField","SubmitButton","onClick","submit_button","Avatar","photo","width","height","setStyle","setClassName","avatar","userPhotoPlaceholder","DialogItem","id","newMessagesCount","photos","userName","dialog_item","small","user_name","to","new_messages_count","DialogsItems","dialogs","selectDialog","map","el","textAlign","marginTop","DialogsItemsContainer","history","useHistory","interlocutorId","MessageItem","addedAt","body","senderId","senderName","viewed","interlocutorPhoto","authUserPhoto","isSubMessage","isNextMessageTheIsSub","isInterlocutor","date","Date","dateString","toLocaleDateString","year","day","month","timeString","toLocaleTimeString","hour","minute","classNameList","message_item","sub","main","is_next_sub","message_avatar","borderRadius","message_info_block","sender_name","message_date","message_text","dangerouslySetInnerHTML","__html","MessageItems","messages","messages_items","MessageItemsContainer","onMoreMessages","resetMessages","isTotalLoadMessages","useState","isScrollBottom","setIsScrollBottom","infinityScroll","useCallback","e","currentTarget","scrollY","window","removeEventListener","useEffect","addEventListener","scrollTo","outerHeight","display","flexDirection","item","index","itemDate","getTime","prevItem","nextItem","resultItem","prevItemDate","difference","Math","abs","nextItemDate","interlocutorName","message_header","message_header__back","message_header__user_name","maxLength500","SenderMessageForm","reduxForm","form","onSubmit","handleSubmit","create_message_container","name","validate","placeholder","mapDispatchToProps","sendMessage","getMessages","getDialogs","getInterlocutor","resetToDefaultState","compose","connect","state","dialogsPage","interlocutor","auth","userData","WithAuthRedirect","withRouter","pathname","location","Number","split","fullName","moreMessages","border","MessageItemsHeader","data","messageText"],"mappings":"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","file":"static/js/5.3073e6b9.chunk.js","sourcesContent":["import style from \"./FormsControls.module.css\";\r\nimport React from \"react\";\r\nimport cn from \"classnames\";\r\nimport {Field} from \"redux-form\";\r\nimport ReactSelect from \"react-select\";\r\nimport warningIcon from \"../../../assets/images/warning.png\"\r\nimport PopupError from \"../Errors/PopupError/PopupError\";\r\n\r\n\r\nconst FormsControl = ({input, meta, label, children, ...props}) => {\r\n    const isHasError = meta.touched && meta.error;\r\n    const isHasWarning = meta.touched && meta.active && meta.warning;\r\n    const setStyleClass = cn({[style.error]: isHasError}, style.formControl);\r\n\r\n    return (\r\n        <label className={setStyleClass}>\r\n            {label && <div className={style.label}>{label}</div>}\r\n\r\n            <div className={style.input_block}>\r\n                {\r\n                    isHasError && !meta.active &&\r\n                        <PopupError error={meta.error} />\r\n                }\r\n\r\n                { children }\r\n\r\n                {\r\n                    isHasError &&\r\n                        <img className={style.error_block__icon} src={warningIcon} alt=\"\"/>\r\n\r\n                }\r\n                {\r\n                    isHasWarning &&\r\n                        <div className={style.warn_block}>\r\n                            <img className={style.warn_block__icon} src={warningIcon} alt=\"\"/>\r\n                            <div className={style.warn_block__text}>{meta.warning}</div>\r\n                        </div>\r\n                }\r\n\r\n            </div>\r\n        </label>\r\n    )\r\n}\r\n\r\nexport const Textarea = ({input, meta, className, ...props}) => {\r\n    return (\r\n        <FormsControl input={{...input}} meta = {{...meta}} {...props}>\r\n            <textarea className={cn(style.textarea, className)} {...input} {...props}/>\r\n        </FormsControl>\r\n    )\r\n}\r\n\r\nexport const Input = ({input, meta, className, ...props}) => {\r\n    return (\r\n        <FormsControl input={{...input}} meta = {{...meta}} {...props}>\r\n            <input className={cn(style.input, className)} {...input} {...props}/>\r\n        </FormsControl>\r\n    )\r\n}\r\n\r\nconst Toggle = ({input, meta, ...props}) => {\r\n    return (\r\n        <FormsControl input={{...input}} meta = {{...meta}} {...props}>\r\n            <label className={style.toggle}>\r\n                <input className={style.input} {...input} {...props}/>\r\n                <span className={style.slider}></span>\r\n            </label>\r\n        </FormsControl>\r\n    )\r\n}\r\nconst Checkbox = ({input, meta, ...props}) => {\r\n    return (\r\n        <FormsControl input={{...input}} meta = {{...meta}} {...props} >\r\n            <input {...input} {...props}/>\r\n        </FormsControl>\r\n    )\r\n}\r\nconst Select = ({input, meta, ...props}) => {\r\n    return (\r\n        <FormsControl input={{...input}} meta = {{...meta}} {...props} >\r\n            <ReactSelect {...input} {...props}/>\r\n        </FormsControl>\r\n    )\r\n}\r\n\r\nexport const FieldInput = (props) => {\r\n    return <Field component={Input} {...props} />\r\n}\r\n\r\nexport const FieldSearchInput = (props) => {\r\n    return <Field {...props} component={Input} type={\"search\"} />\r\n}\r\n\r\nexport const FieldTextarea = (props) => {\r\n    return <Field {...props} component={Textarea} />\r\n}\r\n\r\nexport const FieldToggle = (props) => {\r\n    return <Field {...props} component={Toggle} type={\"checkbox\"}/>\r\n}\r\n\r\nexport const FieldCheckbox = (props) => {\r\n    return <Field {...props} component={Checkbox} type={\"checkbox\"}/>\r\n}\r\n\r\nexport const FieldSelect = (props) => {\r\n    return (\r\n        <Field component={Select} {...props} />\r\n    )\r\n}\r\n\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAADiUlEQVRoge2ZTWhUVxTHf+clY147leCmo2JrCHUywXahDombgk33kWjrQtSVCE3FjXThQhTcCAG/0Iba5UClYk3rvnEhqE1GEaTMTBScFKkmG8UPOsH4jgsDxffu5H3mETC/3Zx77j3/w31z77n3whJLvN9IEoOoYlHOF1GrDygCeYQ1KNm5KC9RHqLUEG4hzijFibIITtzYsRLQcvcqlO9RZw/IJyG7/4NICeGcFCuPomqIlIBe+2IFba+OAvsAO2rwORrAeTL2Edlw52nYzqET0LHCNmAY+DhsXx+mgEHpqV4O0ylwAnqRFjoKJ4ADYZWFQ05TrxyUHbwO5B3ESa922GTtX4CBWNqCM8LLxk75qt7wc7T8HPQiLXxol0hPPMAAWftXvbql1c/RNwE6CicQvklEVjj6yT4a8nOa9xOa+8P+lpik8Cgq26W3MtLMoWkCWu5sx1lWAVZFibz5cNc7v28eq0UZBmCKmUy3fHn3iamx+Seky44RUXzC5Ob2HCPGBHRs/UqUvQunKTT79HbXalODeQbE2Q98sJCKQmLz2ho0NXgSUMVCdffCawqJo7tUvXq9M1DOF4FP09AUCmEtY10b3WZvAmp9nYqgSFh9HovBa1MKSqJhUfSavHQZbIsD1YLbZErAuFwtEjz7kimBj1IQEpXlboN/MbfIMSXwInUVwXnuNpgS+DcFIVHxHP5NB4Ya8HncSDGqz+aIVN0m0wzcSj5yQjiU3SZvAuL8mYqYSDijbovnQKOKxXjhAYutHlIm6al2um/zPDMggoNIKW686xNZ+oc66R/q5MZEAluLSMl0FWneB9Q6C/wXJ97xP3JMP8sw/SzD8Su5OEMBNGh1hk0NxgSk5+/HwM9xoyaH/CQba8blvflO7MwexrDuBuXQ1mly7bPk2mc5tPVx1GEApsi0NT0TB7lWueTnt4AoKtukt/J7M4d5a6G3F61yJnldAVFOzSceghRz9cpBlEuJiQrOFSarP/g5BbvcvfdZG09aL5De/ehlVszulHX3Z/wcA5XTsu7+DPXqt6CnAI0trzmKcpJ6dUcQ8RDlgeOv7gFEh4HYi7uLKVS+m+8e1EToA430VkbI2AXgDG+fh+LSADlNxi6EFQ9JPPI5DILuIWztpEwiUsLix9Qf+TxaFIvx/Ca0pQ+0iEUeZQ3/n69fIDzEYQJkHJxRemq3k3hmXWKJ9503x0/4rsA0qM0AAAAASUVORK5CYII=\"","import css from \"./PopupError.module.css\";\r\n\r\nconst PopupError = (props) => {\r\n    return (\r\n        <div className={css.error_block__text}>{props.error}</div>\r\n    )\r\n}\r\nexport default PopupError;","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3h9sg\",\"error\":\"FormsControls_error__uuZgH\",\"label\":\"FormsControls_label__2iXBF\",\"textarea\":\"FormsControls_textarea__2PSuk\",\"input\":\"FormsControls_input__2OxEz\",\"input_block\":\"FormsControls_input_block__CJy3M\",\"error_block__icon\":\"FormsControls_error_block__icon__3eWXE\",\"warn_block\":\"FormsControls_warn_block__RpowF\",\"warn_block__icon\":\"FormsControls_warn_block__icon__27Tkp\",\"warn_block__text\":\"FormsControls_warn_block__text__34_Tq\",\"toggle\":\"FormsControls_toggle__2ZC2f\",\"slider\":\"FormsControls_slider__3VtMx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error_block__text\":\"PopupError_error_block__text__TVvm2\",\"off\":\"PopupError_off__3zugd\"};","export const required = (value) => {\r\n    if(value) return undefined;\r\n    return \"Обязательное поле\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value && value.length > maxLength) return `Максимальная длина ${maxLength} символов`;\r\n    return undefined\r\n}\r\n\r\nexport const minLengthCreator = (minLength) => (value) => {\r\n    if(value && value.length < minLength) return `Минимальная длина ${minLength} символов`;\r\n    return undefined\r\n}\r\n\r\nexport const email = (value) => {\r\n    if (value && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value)) {\r\n        return 'Invalid email address'\r\n    }\r\n    return undefined\r\n}\r\nexport const notWorkingField = () => {\r\n    return \"Поле в данный момент не работает\"\r\n}\r\n\r\n","import style from \"./SubmitButton.module.css\";\r\nimport cn from \"classnames\"\r\n\r\nconst SubmitButton = ({children, className, onClick}) => {\r\n    return (\r\n        <button onClick={onClick} className={cn(style.submit_button, className)}>{children}</button>\r\n    )\r\n}\r\n\r\nexport default SubmitButton;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"submit_button\":\"SubmitButton_submit_button__rIN2f\",\"submit\":\"SubmitButton_submit__2B-1h\"};","export default \"data:image/png;base64,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\"","import css from './Avatar.module.css';\r\nimport React from \"react\";\r\nimport userPhotoPlaceholder from \"../../../assets/images/user-logo.png\";\r\n\r\n/*\r\n    props: {\r\n        photo,\r\n        width,\r\n        height\r\n    }\r\n*/\r\n\r\nconst Avatar = ({photo, width, height, className, style}) => {\r\n    const setStyle = {\r\n        width,\r\n        height,\r\n        ...style\r\n    };\r\n    const setClassName = css.avatar + \" \" + className;\r\n\r\n    return (\r\n        <>\r\n            {\r\n                photo\r\n                    ? <img style={setStyle} className={setClassName} src={photo} alt=\"\"/>\r\n                    : <img style={setStyle} className={setClassName} src={userPhotoPlaceholder} alt=\"\"/>\r\n            }\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Avatar;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Avatar_avatar__6mQak\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages_items\":\"MessageItems_messages_items__2QhAX\",\"message_header\":\"MessageItems_message_header__3MmyR\",\"message_header__back\":\"MessageItems_message_header__back__3MWOg\",\"message_header__user_name\":\"MessageItems_message_header__user_name__24xbq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog_item\":\"DialogsItem_dialog_item__3zIWX\",\"avatar\":\"DialogsItem_avatar__md2rL\",\"user_name\":\"DialogsItem_user_name__2M18P\",\"new_messages_count\":\"DialogsItem_new_messages_count__1o5DD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message_item\":\"MessageItem_message_item__3_Tbl\",\"main\":\"MessageItem_main__1apd3\",\"sub\":\"MessageItem_sub__1rkXm\",\"viewed\":\"MessageItem_viewed__3RxAs\",\"is_next_sub\":\"MessageItem_is_next_sub__3_0E-\",\"message_avatar\":\"MessageItem_message_avatar__1t74R\",\"message_info_block\":\"MessageItem_message_info_block__3Jjrj\",\"sender_name\":\"MessageItem_sender_name__2ZfLy\",\"message_text\":\"MessageItem_message_text__2Dwbe\",\"message_date\":\"MessageItem_message_date__1qjwZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"create_message_container\":\"SenderMessageForm_create_message_container__2OmC5\",\"textarea\":\"SenderMessageForm_textarea__2_ihN\"};","import css from './DialogsItem.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Avatar from \"../../common/Avatar/Avatar\";\r\n\r\n/*\r\n    props: {\r\n        hasNewMessages: false\r\n        id: 14822\r\n        lastDialogActivityDate: \"2021-02-10T13:34:46.353\"\r\n        lastUserActivityDate: \"2021-02-10T13:46:23.55\"\r\n        newMessagesCount: 0\r\n        photos: {small: null, large: null}\r\n        userName: \"wasakog\",\r\n        onClick: () => {}\r\n    }\r\n*/\r\n\r\nconst DialogItem = ({onClick, id, newMessagesCount, photos, userName}) => {\r\n    return (\r\n        <div onClick={onClick} className={css.dialog_item}>\r\n            <Avatar className={css.avatar} width={\"50px\"} height={\"50px\"} photo={photos.small} />\r\n            <NavLink className={css.user_name} to={\"/dialogs/\" + id}>{userName}</NavLink>\r\n            <div className={css.new_messages_count}>{newMessagesCount}</div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default DialogItem;\r\n","import DialogItem from \"../DialogsItem/DialogsItem\";\r\n\r\nconst DialogsItems = ({dialogs, selectDialog}) => {\r\n    if(!dialogs) return (\r\n        <h2 style={{textAlign: \"center\", marginTop: \"50px\"}}>\r\n            У вас нет начатых диалогов!\r\n        </h2>\r\n    )\r\n\r\n    return (\r\n        <>\r\n            {\r\n               dialogs.map(el => <DialogItem onClick={() => selectDialog(el.id) }\r\n                                             key={el.id}\r\n                                             {...el}/> )\r\n            }\r\n        </>\r\n    );\r\n}\r\n\r\nexport default DialogsItems;\r\n","import DialogsItems from \"./DialogsItems\";\r\nimport {useHistory} from \"react-router\";\r\n\r\nconst DialogsItemsContainer = ({dialogs}) => {\r\n    const history = useHistory();\r\n\r\n    const selectDialog = (interlocutorId) => {\r\n        history.push(\"/dialogs/\" + interlocutorId);\r\n    }\r\n\r\n    return (\r\n        <DialogsItems dialogs={dialogs} selectDialog={selectDialog}/>\r\n    )\r\n}\r\n\r\nexport default DialogsItemsContainer;","import css from \"./MessageItem.module.css\";\r\nimport Avatar from \"../../common/Avatar/Avatar\";\r\nimport cn from \"classnames\";\r\n\r\n/*\r\n    addedAt: \"2021-02-10T13:34:46.353\"\r\n    body: \"asd\"\r\n    id: \"7ec23667-5d58-45b9-b2ef-cfaaac130a9b\"\r\n    recipientId: 14822\r\n    senderId: 14426\r\n    senderName: \"Alazavrus\"\r\n    translatedBody: null\r\n    viewed: false\r\n*/\r\n\r\nconst MessageItem = (props) => {\r\n    const { addedAt, body, senderId, senderName, viewed,\r\n        interlocutorId, interlocutorPhoto, authUserPhoto, isSubMessage, isNextMessageTheIsSub } = props;\r\n    let isInterlocutor = interlocutorId === senderId;\r\n    let date = new Date(addedAt);\r\n    let dateString = date.toLocaleDateString(\"ru\", {year: \"numeric\", day: \"numeric\", month: \"long\"})\r\n    let timeString = date.toLocaleTimeString(\"ru\", {hour: \"numeric\", minute: \"numeric\"})\r\n\r\n    let classNameList = cn(\r\n        css.message_item,\r\n        {[css.sub]: !!isSubMessage},\r\n        {[css.main]: !isSubMessage},\r\n        {[css.is_next_sub]: !!isNextMessageTheIsSub},\r\n        {[css.viewed]: !viewed}\r\n    );\r\n\r\n    return (\r\n        <div className={ classNameList }>\r\n            <div>\r\n                <div className={css.message_avatar}>\r\n                    {\r\n                        !isSubMessage &&\r\n                            <Avatar style={{borderRadius: \"50%\"}} photo={ isInterlocutor ? interlocutorPhoto : authUserPhoto } width={\"50px\"} height={\"50px\"} />\r\n                    }\r\n                </div>\r\n            </div>\r\n            <div className={css.message_info_block}>\r\n                {\r\n                    !isSubMessage &&\r\n                        <div className={css.sender_name}>\r\n                            <b>{senderName}</b>\r\n                            <span className={css.message_date}>{timeString}, {dateString}</span>\r\n                        </div>\r\n                }\r\n                <div className={css.message_text} dangerouslySetInnerHTML={{__html:body}}></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MessageItem;\r\n","import css from './MessageItems.module.css';\r\nimport MessageItem from \"../MessageItem/MessageItem\";\r\n\r\nconst MessageItems = ({messages, interlocutorId, interlocutorPhoto, authUserPhoto}) => {\r\n    return (\r\n        <div className={css.messages_items}>\r\n            {\r\n                messages.map(el =>\r\n                    <MessageItem key={el.id} {...el}\r\n                                 interlocutorId={interlocutorId}\r\n                                 interlocutorPhoto={interlocutorPhoto}\r\n                                 authUserPhoto={authUserPhoto}/>\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MessageItems;\r\n","import {useEffect, useCallback, useState} from \"react\";\r\nimport MessageItems from \"./MessageItems\";\r\n\r\nconst MessageItemsContainer = (props) => {\r\n    const {\r\n        messages, interlocutorId, interlocutorPhoto, authUserPhoto, onMoreMessages,\r\n        resetMessages, isTotalLoadMessages\r\n    } = props;\r\n    const [isScrollBottom, setIsScrollBottom] = useState(true);\r\n    const scrollBottom = () => window.scrollTo(0, window.outerHeight);\r\n\r\n    const infinityScroll = useCallback(e => {\r\n        if(e.currentTarget.scrollY <= 200) {\r\n            window.removeEventListener(\"scroll\", infinityScroll);\r\n            onMoreMessages();\r\n        }\r\n    }, [onMoreMessages])\r\n\r\n    useEffect(() => {\r\n        if(!isTotalLoadMessages && messages.length) {\r\n            window.addEventListener(\"scroll\", infinityScroll);\r\n        } else {\r\n            window.removeEventListener(\"scroll\", infinityScroll);\r\n        }\r\n    }, [isTotalLoadMessages, messages, infinityScroll])\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            resetMessages([])\r\n        }\r\n    }, [resetMessages])\r\n\r\n    useEffect(() => {\r\n        if(isScrollBottom && messages.length && interlocutorId) {\r\n            scrollBottom();\r\n            setIsScrollBottom(false)\r\n        }\r\n    }, [messages, isScrollBottom, interlocutorId])\r\n\r\n    useEffect(() => {\r\n        if(interlocutorId) {\r\n            setIsScrollBottom(true)\r\n        }\r\n    }, [interlocutorId]);\r\n\r\n\r\n    const setIsSubMessage = (arr) => {\r\n        return arr.map((item, index) => {\r\n            let itemDate = new Date(item.addedAt).getTime();\r\n            let prevItem = messages[index - 1];\r\n            let nextItem = messages[index + 1];\r\n            let isSubMessage = false;\r\n            let resultItem = {...item, isSubMessage: isSubMessage, isNextMessageTheIsSub: false};\r\n            let prevItemDate = null;\r\n\r\n            if(prevItem && item.senderId === prevItem.senderId) {\r\n                prevItemDate = new Date(prevItem.addedAt).getTime();\r\n                let difference = Math.abs(itemDate - prevItemDate);\r\n                if( prevItemDate && difference <= 600000) {\r\n                    resultItem = {...resultItem, isSubMessage: true}\r\n                }\r\n            }\r\n            if(nextItem && prevItemDate && item.senderId === prevItem.senderId) {\r\n                let nextItemDate = new Date(nextItem.addedAt).getTime();\r\n                let difference = Math.abs(nextItemDate - prevItemDate);\r\n\r\n                if( nextItemDate && difference <= 600000 ) {\r\n                    resultItem = {...resultItem, isNextMessageTheIsSub: true}\r\n                }\r\n            }\r\n            return resultItem\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div style={{display: \"flex\", flexDirection: \"column\", height: \"100%\"}}>\r\n            {\r\n                !!messages.length &&\r\n                    <MessageItems {\r\n                        ...{messages: setIsSubMessage(messages),\r\n                        interlocutorId,\r\n                        interlocutorPhoto,\r\n                        authUserPhoto}\r\n                    } />\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MessageItemsContainer;\r\n","import css from './MessageItems.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst MessageItems = ({interlocutorId, interlocutorName}) => {\r\n    return (\r\n        <>\r\n            <div className={css.message_header}>\r\n                <div className={css.message_header__back}>\r\n                    <NavLink to={`/dialogs`}>Назад</NavLink>\r\n                </div>\r\n                <div className={css.message_header__user_name}>\r\n                    <NavLink to={`/profile/${interlocutorId}`}>{interlocutorName}</NavLink>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default MessageItems;\r\n","import {maxLengthCreator} from \"../../../utils/validators\";\r\nimport css from \"./SenderMessageForm.module.css\";\r\nimport {FieldTextarea} from \"../../common/FormsControls/FormsControls\";\r\nimport SubmitButton from \"../../common/SubmitButton/SubmitButton\";\r\nimport {reduxForm} from \"redux-form\";\r\n\r\nconst maxLength500 = maxLengthCreator(500);\r\n\r\nconst Form = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={css.create_message_container}>\r\n            <FieldTextarea className={css.textarea}\r\n                           name={\"messageText\"}\r\n                           validate={[maxLength500]}\r\n                           placeholder={\"Напишите сообщение...\"} />\r\n            <SubmitButton>Отправить</SubmitButton>\r\n        </form>\r\n    );\r\n}\r\n\r\nconst SenderMessageForm = reduxForm({\r\n    form: 'sender_message'\r\n})(Form);\r\n\r\n\r\nexport default SenderMessageForm","import {connect} from \"react-redux\";\r\nimport {WithAuthRedirect} from \"../../hoc/WithAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport DialogsItemsContainer from \"./DialogsItems/DialogsItemsContainer\";\r\nimport MessageItemsContainer from \"./MessageItems/MessageItemsContainer\";\r\nimport {getDialogs, getInterlocutor, getMessages, resetMessages, sendMessage, resetToDefaultState} from \"../../redux/dialogs-reducer\";\r\nimport MessageItemsHeader from \"./MessageItems/MessageItemsHeader\";\r\nimport SenderMessageForm from \"./SenderMessageForm/SenderMessageForm\";\r\nimport {useEffect, useCallback} from \"react\";\r\n\r\nconst DialogContainer = (props) => {\r\n    const {\r\n        authUserPhoto, dialogs, interlocutor, messages, location: {pathname},\r\n        getMessages, getInterlocutor, getDialogs, resetToDefaultState, sendMessage\r\n    } = props;\r\n    const interlocutorId = Number(pathname.split(\"/\")[2]);\r\n    const interlocutorName  = interlocutor ? interlocutor.fullName : null;\r\n    const interlocutorPhoto = interlocutor ? interlocutor.photos.small : null;\r\n\r\n    useEffect(() => {\r\n        if(interlocutorId) {\r\n            getInterlocutor(interlocutorId)\r\n            getMessages(interlocutorId)\r\n        } else {\r\n            getDialogs()\r\n        }\r\n        return () => {\r\n            resetToDefaultState()\r\n        }\r\n    }, [getMessages, getInterlocutor, getDialogs, resetToDefaultState, interlocutorId])\r\n\r\n    let onSendMessage = (data) => {\r\n        if(interlocutorId) sendMessage(interlocutorId, data.messageText)\r\n    }\r\n\r\n    const moreMessages = useCallback(() => {\r\n        getMessages(interlocutorId, 1)\r\n    }, [getMessages, interlocutorId])\r\n\r\n    return (\r\n        <div style={{display: \"flex\", flexDirection: \"column\", height: \"100%\", border: \"1px solid #ddd\"}}>\r\n            {\r\n                !interlocutorId &&\r\n                    <DialogsItemsContainer authUserPhoto={authUserPhoto}\r\n                                           dialogs={dialogs}/>\r\n            }\r\n            {\r\n                !!interlocutorId &&\r\n                    <>\r\n                        <MessageItemsHeader {...{interlocutorId, interlocutorName}} />\r\n                        <MessageItemsContainer interlocutorId={interlocutorId}\r\n                                               interlocutorPhoto={interlocutorPhoto}\r\n                                               authUserPhoto={authUserPhoto}\r\n                                               messages={messages}\r\n                                               isTotalLoadMessages={props.isTotalLoadMessages}\r\n                                               onMoreMessages={moreMessages}\r\n                                               resetMessages={props.resetMessages}/>\r\n\r\n                        <SenderMessageForm onSubmit={onSendMessage}/>\r\n                    </>\r\n\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        messages: state.dialogsPage.messages,\r\n        dialogs: state.dialogsPage.dialogs,\r\n        interlocutor: state.dialogsPage.interlocutor,\r\n        isTotalLoadMessages: state.dialogsPage.isTotalLoadMessages,\r\n        authUserPhoto: state.auth.userData && state.auth.userData.photos && state.auth.userData.photos.small\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    sendMessage,\r\n    getMessages,\r\n    resetMessages,\r\n    getDialogs,\r\n    getInterlocutor,\r\n    resetToDefaultState\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    WithAuthRedirect,\r\n    withRouter\r\n)(DialogContainer);\r\n"],"sourceRoot":""}