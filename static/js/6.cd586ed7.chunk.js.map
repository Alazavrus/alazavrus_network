{"version":3,"sources":["components/common/FormsControls/FormsControls.js","assets/images/warning.png","components/common/Errors/PopupError/PopupError.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/common/FormsControls/FormsControls.module.css","components/common/Errors/PopupError/PopupError.module.css","utils/validators.js","components/common/SubmitButton/SubmitButton.js","components/common/SubmitButton/SubmitButton.module.css","assets/images/user-logo.png","components/Dialogs/Dialogs.module.css","components/common/Avatar/Avatar.jsx","components/common/Avatar/Avatar.module.css","components/Dialogs/DialogsItem/DialogsItem.module.css","components/Dialogs/DialogsItem/DialogsItem.jsx","components/Dialogs/DialogsItems.jsx","components/Dialogs/MessageItem/MessageItem.jsx","components/Dialogs/MessageItems.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["FormsControl","input","meta","label","children","isHasError","touched","error","isHasWarning","active","warning","setStyleClass","cn","style","formControl","className","input_block","error_block__icon","src","warningIcon","alt","warn_block","warn_block__icon","warn_block__text","Textarea","props","textarea","Input","Toggle","toggle","slider","Checkbox","Select","FieldInput","component","FieldSearchInput","type","FieldTextarea","FieldToggle","FieldCheckbox","FieldSelect","PopupError","css","error_block__text","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","required","maxLengthCreator","maxLength","minLengthCreator","minLength","notWorkingField","SubmitButton","onClick","submit_button","Avatar","photo","width","height","setStyle","setClassName","avatar","userPhotoPlaceholder","DialogItem","id","newMessagesCount","photos","userName","dialog_item","small","user_name","to","new_messages_count","DialogsItems","dialogs","userId","selectDialog","dialogs_block","dialogs_items","map","el","MessageItem","addedAt","body","senderId","senderName","viewed","userPhoto","authUserPhoto","isSubMessage","isNextMessageTheIsSub","isInterlocutor","date","Date","dateString","toLocaleDateString","year","day","month","timeString","toLocaleTimeString","hour","minute","classNameList","message_item","sub","main","is_next_sub","message_avatar","borderRadius","message_info_block","sender_name","message_date","message_text","dangerouslySetInnerHTML","__html","maxLength500","SenderMessageFormReduxForm","reduxForm","form","onSubmit","handleSubmit","create_message_container","name","validate","placeholder","MessageItems","messages","infinityScroll","useCallback","e","currentTarget","scrollY","console","log","getMessages","useEffect","window","scrollTo","outerHeight","addEventListener","removeEventListener","messages_block","message_header","message_header__back","message_header__user_name","messages_items","data","sendMessage","messageText","then","Dialogs","dialogsPage","location","useState","setUserId","setMessages","setDialogs","history","useHistory","user","filter","Number","pathname","split","item","index","itemDate","getTime","prevItem","nextItem","resultItem","prevItemDate","d","Math","abs","nextItemDate","d2","mapDispatchToProps","getDialogs","compose","connect","state","auth","userData","WithAuthRedirect","withRouter","getDialogsCb","getMessagesCb"],"mappings":"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","file":"static/js/6.cd586ed7.chunk.js","sourcesContent":["import style from \"./FormsControls.module.css\";\r\nimport React from \"react\";\r\nimport cn from \"classnames\";\r\nimport {Field} from \"redux-form\";\r\nimport ReactSelect from \"react-select\";\r\nimport warningIcon from \"../../../assets/images/warning.png\"\r\nimport PopupError from \"../Errors/PopupError/PopupError\";\r\n\r\n\r\nconst FormsControl = ({input, meta, label, children, ...props}) => {\r\n    const isHasError = meta.touched && meta.error;\r\n    const isHasWarning = meta.touched && meta.active && meta.warning;\r\n    const setStyleClass = cn({[style.error]: isHasError}, style.formControl);\r\n\r\n    return (\r\n        <label className={setStyleClass}>\r\n            {label && <div className={style.label}>{label}</div>}\r\n\r\n            <div className={style.input_block}>\r\n                {\r\n                    isHasError && !meta.active &&\r\n                        <PopupError error={meta.error} />\r\n                }\r\n\r\n                { children }\r\n\r\n                {\r\n                    isHasError &&\r\n                        <img className={style.error_block__icon} src={warningIcon} alt=\"\"/>\r\n\r\n                }\r\n                {\r\n                    isHasWarning &&\r\n                        <div className={style.warn_block}>\r\n                            <img className={style.warn_block__icon} src={warningIcon} alt=\"\"/>\r\n                            <div className={style.warn_block__text}>{meta.warning}</div>\r\n                        </div>\r\n                }\r\n\r\n            </div>\r\n        </label>\r\n    )\r\n}\r\n\r\nexport const Textarea = ({input, meta, className, ...props}) => {\r\n    return (\r\n        <FormsControl input={{...input}} meta = {{...meta}} {...props}>\r\n            <textarea className={cn(style.textarea, className)} {...input} {...props}/>\r\n        </FormsControl>\r\n    )\r\n}\r\n\r\nexport const Input = ({input, meta, className, ...props}) => {\r\n    return (\r\n        <FormsControl input={{...input}} meta = {{...meta}} {...props}>\r\n            <input className={cn(style.input, className)} {...input} {...props}/>\r\n        </FormsControl>\r\n    )\r\n}\r\n\r\nconst Toggle = ({input, meta, ...props}) => {\r\n    return (\r\n        <FormsControl input={{...input}} meta = {{...meta}} {...props}>\r\n            <label className={style.toggle}>\r\n                <input className={style.input} {...input} {...props}/>\r\n                <span className={style.slider}></span>\r\n            </label>\r\n        </FormsControl>\r\n    )\r\n}\r\nconst Checkbox = ({input, meta, ...props}) => {\r\n    return (\r\n        <FormsControl input={{...input}} meta = {{...meta}} {...props} >\r\n            <input {...input} {...props}/>\r\n        </FormsControl>\r\n    )\r\n}\r\nconst Select = ({input, meta, ...props}) => {\r\n    return (\r\n        <FormsControl input={{...input}} meta = {{...meta}} {...props} >\r\n            <ReactSelect {...input} {...props}/>\r\n        </FormsControl>\r\n    )\r\n}\r\n\r\nexport const FieldInput = (props) => {\r\n    return <Field component={Input} {...props} />\r\n}\r\n\r\nexport const FieldSearchInput = (props) => {\r\n    return <Field {...props} component={Input} type={\"search\"} />\r\n}\r\n\r\nexport const FieldTextarea = (props) => {\r\n    return <Field {...props} component={Textarea} />\r\n}\r\n\r\nexport const FieldToggle = (props) => {\r\n    return <Field {...props} component={Toggle} type={\"checkbox\"}/>\r\n}\r\n\r\nexport const FieldCheckbox = (props) => {\r\n    return <Field {...props} component={Checkbox} type={\"checkbox\"}/>\r\n}\r\n\r\nexport const FieldSelect = (props) => {\r\n    return (\r\n        <Field component={Select} {...props} />\r\n    )\r\n}\r\n\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAADiUlEQVRoge2ZTWhUVxTHf+clY147leCmo2JrCHUywXahDombgk33kWjrQtSVCE3FjXThQhTcCAG/0Iba5UClYk3rvnEhqE1GEaTMTBScFKkmG8UPOsH4jgsDxffu5H3mETC/3Zx77j3/w31z77n3whJLvN9IEoOoYlHOF1GrDygCeYQ1KNm5KC9RHqLUEG4hzijFibIITtzYsRLQcvcqlO9RZw/IJyG7/4NICeGcFCuPomqIlIBe+2IFba+OAvsAO2rwORrAeTL2Edlw52nYzqET0LHCNmAY+DhsXx+mgEHpqV4O0ylwAnqRFjoKJ4ADYZWFQ05TrxyUHbwO5B3ESa922GTtX4CBWNqCM8LLxk75qt7wc7T8HPQiLXxol0hPPMAAWftXvbql1c/RNwE6CicQvklEVjj6yT4a8nOa9xOa+8P+lpik8Cgq26W3MtLMoWkCWu5sx1lWAVZFibz5cNc7v28eq0UZBmCKmUy3fHn3iamx+Seky44RUXzC5Ob2HCPGBHRs/UqUvQunKTT79HbXalODeQbE2Q98sJCKQmLz2ho0NXgSUMVCdffCawqJo7tUvXq9M1DOF4FP09AUCmEtY10b3WZvAmp9nYqgSFh9HovBa1MKSqJhUfSavHQZbIsD1YLbZErAuFwtEjz7kimBj1IQEpXlboN/MbfIMSXwInUVwXnuNpgS+DcFIVHxHP5NB4Ya8HncSDGqz+aIVN0m0wzcSj5yQjiU3SZvAuL8mYqYSDijbovnQKOKxXjhAYutHlIm6al2um/zPDMggoNIKW686xNZ+oc66R/q5MZEAluLSMl0FWneB9Q6C/wXJ97xP3JMP8sw/SzD8Su5OEMBNGh1hk0NxgSk5+/HwM9xoyaH/CQba8blvflO7MwexrDuBuXQ1mly7bPk2mc5tPVx1GEApsi0NT0TB7lWueTnt4AoKtukt/J7M4d5a6G3F61yJnldAVFOzSceghRz9cpBlEuJiQrOFSarP/g5BbvcvfdZG09aL5De/ehlVszulHX3Z/wcA5XTsu7+DPXqt6CnAI0trzmKcpJ6dUcQ8RDlgeOv7gFEh4HYi7uLKVS+m+8e1EToA430VkbI2AXgDG+fh+LSADlNxi6EFQ9JPPI5DILuIWztpEwiUsLix9Qf+TxaFIvx/Ca0pQ+0iEUeZQ3/n69fIDzEYQJkHJxRemq3k3hmXWKJ9503x0/4rsA0qM0AAAAASUVORK5CYII=\"","import css from \"./PopupError.module.css\";\r\n\r\nconst PopupError = (props) => {\r\n    return (\r\n        <div className={css.error_block__text}>{props.error}</div>\r\n    )\r\n}\r\nexport default PopupError;","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3h9sg\",\"error\":\"FormsControls_error__uuZgH\",\"label\":\"FormsControls_label__2iXBF\",\"textarea\":\"FormsControls_textarea__2PSuk\",\"input\":\"FormsControls_input__2OxEz\",\"input_block\":\"FormsControls_input_block__CJy3M\",\"error_block__icon\":\"FormsControls_error_block__icon__3eWXE\",\"warn_block\":\"FormsControls_warn_block__RpowF\",\"warn_block__icon\":\"FormsControls_warn_block__icon__27Tkp\",\"warn_block__text\":\"FormsControls_warn_block__text__34_Tq\",\"toggle\":\"FormsControls_toggle__2ZC2f\",\"slider\":\"FormsControls_slider__3VtMx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error_block__text\":\"PopupError_error_block__text__TVvm2\",\"off\":\"PopupError_off__3zugd\"};","export const required = (value) => {\r\n    if(value) return undefined;\r\n    return \"Обязательное поле\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value && value.length > maxLength) return `Максимальная длина ${maxLength} символов`;\r\n    return undefined\r\n}\r\n\r\nexport const minLengthCreator = (minLength) => (value) => {\r\n    if(value && value.length < minLength) return `Минимальная длина ${minLength} символов`;\r\n    return undefined\r\n}\r\n\r\nexport const email = (value) => {\r\n    if (value && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value)) {\r\n        return 'Invalid email address'\r\n    }\r\n    return undefined\r\n}\r\nexport const notWorkingField = () => {\r\n    return \"Поле в данный момент не работает\"\r\n}\r\n\r\n","import style from \"./SubmitButton.module.css\";\r\nimport cn from \"classnames\"\r\n\r\nconst SubmitButton = ({children, className, onClick}) => {\r\n    return (\r\n        <button onClick={onClick} className={cn(style.submit_button, className)}>{children}</button>\r\n    )\r\n}\r\n\r\nexport default SubmitButton;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"submit_button\":\"SubmitButton_submit_button__rIN2f\",\"submit\":\"SubmitButton_submit__2B-1h\"};","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAACNfAAAjXwHuwDalAAAPqElEQVR4nO2deZAV1RWHvxnAEWEQNJLSQhRFRYwVpYQSFQ1Gg/sal6qosWJpqZW4G9eKS1CTuCdWcEtpxESDpUETEw3uqJMoGrVCFBdMiHFDAwWOOKJM/vi9Nzx6Tr/X3a/73tswX9Wrge73+p53z3l3PfeclilTprAaMgzYqua1BTAUaK+8Btf8G2Bp5fVJzb8XA28A82pei5x9A0f09y1ADgwCJgGTgYnAGGCDlM8YVnk1YiHwGtABPA7MBjpTlhUULSVsAdqAnZHCdwfGAwM8ybIceB54DBnEM0CXJ1kyUSYD2AU4GjgcNechshiYAUwHnvYsSyJCN4DNkdKPBjbzLEta5iNDmA685VmWWEI1gPHAecBBQEvGZ3Sigdtrlb8fAkvQAK/6d2nlvdUB4ZCav8PRAHJM5e+gjHJ0AzOBK1B3ERShDQK/AZwP7Jnyc5+h/vdRYA5S+juo8vOgBRiBjGEH4JtoHLJ2ws8eXHnNAi4HnshJrqYJpQWYAlyERvFJeQ5V6KPAs7gffLUBOyFj2BOYkOKzHcAlwMMFyJUK3wYwErgeNfVJeB24s/J6uyihMjIKOKry2jLhZ2YCpwILihKqEb4MYABwOvAjGvetS4A70GDquYLlyosJaOB6DBpP1KMTuBS4Fk0rneLDACYB04BtGrzvY+A64AY0vSojQ4HvA6cB6zd471zgJLS45IxWh2X1B34KPEl95b8HnAVsAkylvMoHyT4VfZez0HeLYxtUNz/F4eDclQGMBJ4Cfkj8tO5TNPUbBVxNyZdYI3Si7zQKfcdPY97XguroKVRnhePCAA4AXqL+CH8msDXwE0q2lJqSLvQdt0bfOY6JqM4OKFqgIg2gFVn9/cRvtLwN7IfmyN5Gwh5YgL7zfsTPZoahuruaAvVU1IPb0Jr4GXXecxPq9x4sSIYy8CCqg5vqvOcMVJdtRQhQhAG0A38GDo25vwQ4AjgRWFZA+WVjGaqLI1DdWByK6rQ95n5m8jaA4WiZc3LM/TnA9sii+1iVGahu5sTcn4zqdnieheZpAJug9fhxMfenofXz+TmW2SxDgIG+hahhPqqjaTH3x6E63iSvAvOabw4HHgFGx9y/ELgsp7LSMABt3myKplWbRP5WV+k6gY+Qx88c5NzxJPCBW3EB+Bw4GfgvWkOIMhrV9c5oh7Mp8lgJbEdNk/XL/xKtbt3SbCEpGQt8Dy3HNtNkPoTm7S/lIVQGjketQT/j3oto93SpcS8xzXYBbWiqYim/C3nvuFJ+O6qwDrSseibN95d7oYq+HT9uZ7egOrTWRsahum9qdtCMAbQCv8Ee8HWhOe59TTw/DXujufXNwI45P7sF+C4ygqzOKc1wH6pLywgmIx1k1mO/0aPjuu2GXAUcZ1z/EjgSd/P7c4FfUfxgblvUtXQj9/BPCi6vlvnAP4Fv01vZY1Hr95csD85qOQcQv8hzEm5++esAdyFXK1d7GocB9wDvAq+gH0AhCzQG96G6tTiDjMvGWSpuJGoOLS7ETZ8/BHndHumgrDi2BW5FS7mu9tRvQXVscTsZNpDSGkB/4G7stf1puJvqXY4WTUJgQ7RKd7mj8i7DXicYhnSTamqfdgxwBfavbg4arX6Z5mEZ2RFVgI8BWRwtyNEFtH5QNLPQwHejyPWNkaPqI0kflKYFmAScbVyvru1/nuJZWRmAmkGXjixpuBjY30E5nxO/d3A2K42xIUkrcgDxv7rjcbe8ezbwNUdlZeViR+XMR3UfpQXpKtG6RVIDOB3bjesm3G3s9ENuVaEzDneDwhnYW8nbIJ01JMlS8Eg0B416775dKcjVlu4k5CpVBmYDuzoqayBa+RwVud6J1gjqOtokaQGux3bd/gFu9/P3cVhWs0wi3UGRZliGdBFlENJdXRoZwBTsQxszce/Js6/j8pol8UAsBx5E+wJRDqJBd9TIAC4yrn2KTrO4ZGO08FImvu64vFOwvY0tHfZQzwC+ge3J+2PcO3Du5ri8PNjOcXkLkG6iTES6NKlnAOcb195DR5hckzbkSwiMAdZyXOa12IdPLF0C8QYwHvuI9tX48dtf10OZzTKAeA+pouhCOoqyJ9JpL+IM4Dzj2sfAjdnkappQQ8I0wnULANLRx8Z1S6emAWyOPfK/Dn/HtcpqAD7oRLqKchDS7SpYBnA0vZd8l6BTur7oM4B03EDvfYIWpNtViDOAKHfg95Ru1vg8vskrRE1aFiOdRWloALtgR+OanoNQzfA/z+VnxcX2eByWzjZD7uQ9RA3A+vW/jv/IHD788/Pgvx7Lfg7pLsoxtf+pNYA25NQR5c4chcpKGQ1gCf5jC1u6O5waP8ZaA9gZe7DVZwDZCCGIlaW7odR0A7UGYPn3P0cYX6SMBvAv3wIg3Vndd4+uaw1gd+ONs/KWKCNlNIA3fQtQwdJhj66rBjAIe6nw0SIkykBIJ4qT8oxvASpYOhxPZWpdNYBJ9PYh+wxF4AyBjwijK0pKN+F4Lz2LdFnLADTl7zEAq/8PLfa976loGuZir8f7oAu7NdodVhqAte8fSvNfJbhI23UI5ddfxdLlRFhpAGOMN8SFKvFFmQzAxeGQNFi6HAMygGHYDhevFSlRBl7A79JqGkJrASxdbgAMa0XJEKJ0onj7IdEJvOpbiAS8DrzvW4gI72Bv5W8VZwDz8LeTFcdXgfV8C5GAwUjWkOhGOo0SawChNf9tyBU9ehgyRDZCsrqKG5AUS6dbtaKkilEsa/HJ/uQf+qVIdsTNIdE0WDrdohV7A6jp8GM5kzaHUAiEJrOl06Gt2OFH40KW+qKMHkGhyWzptD3OAJqKPVcALmIP5E1oMls6bW9Fo9YoobUAL/gWIAOhyWzpdHBZWoAO3wJkIDSZY1uAMhjAK5QrhUwnkjkkYg2gDHwB3OZbiBTchmQOnlZiLMO1IAmYSjlagU7sKN++MVv6MhnAB8ilOercEBKfIRlDdGGLNQAr5m2jbJe+uA+tst3qWxCDW5FsrgJkp8XS6SdlagGqvIyycYbkrfQ5kull34LUIVUXEGoLUKULxfEPhZcJyyAtLJ0ubcU+9JlrYqKCCGme/TffAiTA0uniVuAN44a1RRwaobhdQ1jGGIel0zdasbcJLR/B0PgTYZwaXgo84FuIBFg6nRdnAFsRVjRui8+Iz1vgkt/iNntIFlqI8fyKM4BBwIhCRcqHG/Hvunaz5/KTMAJ7e3peKzrCvNC4WYZu4A2UrMEXzxLWbCQOS5cLgUXVvQDLX2yH4uTJlbOA5R7K7aZ+cuyQsHT5Gqw8GGKNYr9ZmDj58ip2VKyi+TXlmP6BrcsOWGkAjxtv2JnwPFvjuBR7OlsU76N0dWWgjUhcoAqPwUoDmE3vZnRtYKfi5MqVT1A8XBfezAvRLyrEDR+LnZAua1mOsq71GEAn9tm7snQDoFx+pzgoZypKoFEWLB0+T2VrvdYh5DHjjaG5Njci9LULH1g67NF1rQFY44AJ9E5FEjIuYvP6iP+blVHYmUt6dF1rAM9gbwwdlbNQReJCOT6yiGfF0t1iavZRag2gCzsDWJ8BrErZDWAGNVvXUadQK7zolrhLgNQsfQawkglId1FWiSEcNYCnsSNyWSFkQ6TPAFZi6Ww+kW10yy3cagWOoRwh2/sGgWIokZjAFXrpNs4AojtsQ5DPW+j0tQDi+/R2AesmoQG8hQIcRDmN8E68RukzAOnoNOP6TKTbVYg7GXSFcW194MTscjmhrwuQjtY3rls6jTWA57FjzJ5JuBtE/YHDHJSzD+GOh9qQjqLMIibMXr2zgZcb1zYkYVZqD5yCm+yiX8WumxA4HekoSqy8jbKHP0vvKKKfAlvjPntoPUagDRpXB1pWoC3WvzoqLwkjkW/EOpHrHdTZ1W10OvgS49o6JMhK7ZCxKDKny9NMrShhsxVi3xc/p7fywdZhD40M4GHsGcFBhJHNe29k4Vaiq6JZD9VPCAPjfYEDjeszkYyxJIkPcCr2sexfAAMTfL4IvoLcwP6A32Ns/YFpwF3App5kGIh0EaWTBFnekxjAAuRyFWUU7hNJrwNcgOazpwL9HJcfx5HIyfIqFHvZJddib9lfSoJxWqNBYJUBwN+BbYx7R2DvIubJcNTUnkx4YVijLAJuAn4J/Kfgsg4HfmdcnwtsTwJv6aQhYpYDJ2EfwriF4vrgccj7dgEazISufFALcC7aeJmB7ZCZB5uhuo/SjXSVyFU+TYyg2cCVxvUhyArzWiFbG21kdKBQa8cQ7uJTPaoLU0+j1vME8ltKXwvVuTX+uRLpKhFpg0RdgH2GYAea983fHAn/DvrVlyk2cCO2Q93Cu2jANrbJ512HfdijA+koMWkN4As04LEyYp6UtnA0iDsAeAj59Z+FvY69ulDdVZ0LPIHGT2k3ly5AdR1lEdJNquhkWcLELQCOjbk3FTg+wTOGAOejTGD3A1NY8zx6dwPuRgPFH6OpbSOOJz4C2bFkWJ3tN3r06LSfAR3AGIKdbGof4B/Y2T3WRmv296Bw6utmKXw1YzCwK5rltKJxjzWAOwR1jdaP9hrstYCGNBMo8mzgXuN6P3Rmfo9IOcehZv5qkln7msYQ4DKUcfQEVl3j2APVqbXucS/SRSaaMYAVwHewzxO0AX9EVjsCHUS4lXLEHPDNhmjAOButLh6C6tKaCT2OdLAia2FJF4Lq0Y4GNOOMeyuAZYTvSRQqy5DirR/qi+g8ZFNxnfOIFbwUbcpYyZJb6VN+MwzE1tGbqM6bDuqdV7DoD1E/FUrG7NWZN1Fd55LWJ89o4f9Gy55lCJlSVl5EdfzvvB6Yd7j4D1G/ZA0M+2iOx1Hd5prQq4h8AdUxgTVF7CMb95JTnx+lqIQRXWir8pqCnr8mcQ2qy0JiEReZMWQFclE+EHvvoI/6LEJ1dyZNzPMb4SJlzANoN6wM8XRDoQPVWeEhaF3lDFqA1rt/hv/IniHTjepoVxy53btMGvUFcA7aBZvrsNyyMBfVzTk4TDjlI2vYbOSvdg7lSAJVNJ2oLrYnhSdPXvhKG7ccNXVjsc8drCnMRHXwM/yEu/VmAFUWAAcDe7FmDRI70Hc+GM9H7HwbQJWH0fm1ydinklcXZqHvuBMNTuy4IhQDqPIE8C0U4Oj3rB4zhm70XSag7/aEV2ki9PctQAzPI0eIzVGwo6Pxc/6vGeajkCzTMSJzhEIeDiGu2AUZwuGEG6BhMToMMp1KMObQKZMBVKmGP5+MjmePx1/cnuWotXoM7dY9Q/j5A1ehjAYQZRAwCRnERJQeZYOCylqIDoF2IIXPpuRrGaGOAdLQiQ6WPFRzbRjKklV9bYG6jfbKa3DNv0HbrEtR3oHqvxcjL+Z5Na/VblPr/5Oo80SrsHy9AAAAAElFTkSuQmCC\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3QTKa\",\"dialogs_block\":\"Dialogs_dialogs_block__2qDvp\",\"dialogs_items\":\"Dialogs_dialogs_items__3yg2G\",\"messages_block\":\"Dialogs_messages_block__31YGH\",\"message_header\":\"Dialogs_message_header__1SYmK\",\"message_header__back\":\"Dialogs_message_header__back__gfHtG\",\"message_header__user_name\":\"Dialogs_message_header__user_name__1PQ_-\",\"messages_items\":\"Dialogs_messages_items__33LG0\",\"message_item\":\"Dialogs_message_item__26zEH\",\"main\":\"Dialogs_main__2VW3p\",\"sub\":\"Dialogs_sub__ccA3W\",\"viewed\":\"Dialogs_viewed__L8zzX\",\"is_next_sub\":\"Dialogs_is_next_sub__CgMWe\",\"message_avatar\":\"Dialogs_message_avatar__1y1k9\",\"message_info_block\":\"Dialogs_message_info_block__3D-MQ\",\"sender_name\":\"Dialogs_sender_name__sPP6_\",\"message_text\":\"Dialogs_message_text__3lDPz\",\"message_date\":\"Dialogs_message_date__QlmT9\",\"create_message_container\":\"Dialogs_create_message_container__3Hp20\",\"textarea\":\"Dialogs_textarea__BLw5G\"};","import css from './Avatar.module.css';\r\nimport React from \"react\";\r\nimport userPhotoPlaceholder from \"../../../assets/images/user-logo.png\";\r\n\r\n/*\r\n    props: {\r\n        photo,\r\n        width,\r\n        height\r\n    }\r\n*/\r\n\r\nconst Avatar = ({photo, width, height, className, style}) => {\r\n    const setStyle = {\r\n        width,\r\n        height,\r\n        ...style\r\n    };\r\n    const setClassName = css.avatar + \" \" + className;\r\n\r\n    return (\r\n        <>\r\n            {\r\n                photo\r\n                    ? <img style={setStyle} className={setClassName} src={photo} alt=\"\"/>\r\n                    : <img style={setStyle} className={setClassName} src={userPhotoPlaceholder} alt=\"\"/>\r\n            }\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Avatar;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Avatar_avatar__6mQak\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog_item\":\"DialogsItem_dialog_item__3zIWX\",\"avatar\":\"DialogsItem_avatar__md2rL\",\"user_name\":\"DialogsItem_user_name__2M18P\",\"new_messages_count\":\"DialogsItem_new_messages_count__1o5DD\"};","import css from './DialogsItem.module.css';\nimport {NavLink} from \"react-router-dom\";\nimport Avatar from \"../../common/Avatar/Avatar\";\n\n/*\n    props: {\n        hasNewMessages: false\n        id: 14822\n        lastDialogActivityDate: \"2021-02-10T13:34:46.353\"\n        lastUserActivityDate: \"2021-02-10T13:46:23.55\"\n        newMessagesCount: 0\n        photos: {small: null, large: null}\n        userName: \"wasakog\",\n        onClick: () => {}\n    }\n*/\n\nconst DialogItem = ({onClick, id, newMessagesCount, photos, userName}) => {\n    return (\n        <div onClick={onClick} className={css.dialog_item}>\n            <Avatar className={css.avatar} width={\"50px\"} height={\"50px\"} photo={photos.small} />\n            <NavLink className={css.user_name} to={\"/dialogs/\" + id}>{userName}</NavLink>\n            <div className={css.new_messages_count}>{newMessagesCount}</div>\n        </div>\n    )\n\n}\n\nexport default DialogItem;\n","import css from'./Dialogs.module.css';\nimport DialogItem from \"./DialogsItem/DialogsItem\";\n\nconst DialogsItems = ({dialogs, userId, selectDialog}) => {\n    if(!dialogs) return null\n    return (\n        <>\n            {\n                !userId &&\n                    <div className={css.dialogs_block}>\n                        <div className={css.dialogs_items}>\n                            {\n                                dialogs.map(el =>\n                                    <DialogItem onClick={() => selectDialog(el.id) } key={el.id}  {...el}/>\n                                )\n                            }\n                        </div>\n                    </div>\n            }\n        </>\n    );\n}\n\nexport default DialogsItems;\n","import css from \"../Dialogs.module.css\";\nimport Avatar from \"../../common/Avatar/Avatar\";\nimport cn from \"classnames\"\n/*\n    addedAt: \"2021-02-10T13:34:46.353\"\n    body: \"asd\"\n    id: \"7ec23667-5d58-45b9-b2ef-cfaaac130a9b\"\n    recipientId: 14822\n    senderId: 14426\n    senderName: \"Alazavrus\"\n    translatedBody: null\n    viewed: false\n*/\n\nconst MessageItem = (props) => {\n    let { addedAt, body, senderId, senderName, viewed,\n        userId, userPhoto, authUserPhoto, isSubMessage, isNextMessageTheIsSub } = props;\n    let isInterlocutor = userId === senderId;\n    let date = new Date(addedAt);\n    let dateString = date.toLocaleDateString(\"ru\", {year: \"numeric\", day: \"numeric\", month: \"long\"})\n    let timeString = date.toLocaleTimeString(\"ru\", {hour: \"numeric\", minute: \"numeric\"})\n\n    let classNameList = cn(\n        css.message_item,\n        {[css.sub]: !!isSubMessage},\n        {[css.main]: !isSubMessage},\n        {[css.is_next_sub]: !!isNextMessageTheIsSub},\n        {[css.viewed]: !viewed}\n    );\n\n    return (\n        <div className={ classNameList }>\n            <div>\n                <div className={css.message_avatar}>\n                    {\n                        !isSubMessage &&\n                            <Avatar style={{borderRadius: \"50%\"}} photo={ isInterlocutor ? userPhoto : authUserPhoto } width={\"50px\"} height={\"50px\"} />\n                    }\n                </div>\n            </div>\n            <div className={css.message_info_block}>\n                {\n                    !isSubMessage &&\n                        <div className={css.sender_name}>\n                            <b>{senderName}</b>\n                            <span className={css.message_date}>{timeString}, {dateString}</span>\n                        </div>\n                }\n                <div className={css.message_text} dangerouslySetInnerHTML={{__html:body}}></div>\n\n            </div>\n        </div>\n    )\n}\n\nexport default MessageItem;\n","import css from'./Dialogs.module.css';\nimport MessageItem from \"./MessageItem/MessageItem\";\nimport {reduxForm} from \"redux-form\";\nimport {FieldTextarea} from \"../common/FormsControls/FormsControls\";\nimport {maxLengthCreator} from \"../../utils/validators\";\nimport SubmitButton from \"../common/SubmitButton/SubmitButton\";\nimport {NavLink} from \"react-router-dom\";\nimport {useEffect, useCallback} from \"react\";\n\nconst maxLength500 = maxLengthCreator(500);\n\nconst SenderMessageForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit} className={css.create_message_container}>\n            <FieldTextarea className={css.textarea}\n                           name={\"messageText\"}\n                           validate={[maxLength500]}\n                           placeholder={\"Напишите сообщение...\"} />\n            <SubmitButton>Отправить</SubmitButton>\n        </form>\n    );\n}\n\nconst SenderMessageFormReduxForm = reduxForm({\n    form: 'sender_message'\n})(SenderMessageForm);\n\nconst MessageItems = ({messages, userId, authUserPhoto, userPhoto, userName, ...props}) => {\n\n    const infinityScroll = useCallback(e => {\n\n            if(e.currentTarget.scrollY === 0) {\n                console.log(\"boom\")\n                props.getMessages(userId)\n            }\n\n    }, [props.getMessages])\n\n    useEffect(() => {\n        window.scrollTo(0, window.outerHeight);\n\n        window.addEventListener(\"scroll\", infinityScroll);\n        return () => {\n            window.removeEventListener(\"scroll\", infinityScroll);\n        }\n    }, [])\n\n    const sendMessage = (data) => {\n        props.sendMessage(userId, data.messageText).then(() => {\n            window.scrollTo(0, window.outerHeight);\n        });\n    }\n\n    return (\n        <>\n            <div className={css.messages_block}>\n                <div className={css.message_header}>\n                    <div className={css.message_header__back}>\n                        <NavLink to={`/dialogs`}>Назад</NavLink>\n                    </div>\n                    <div className={css.message_header__user_name}>\n                        <NavLink to={`/profile/${userId}`}>{userName}</NavLink>\n                    </div>\n                </div>\n                <div className={css.messages_items}>\n                    {\n                        messages.map(el =>\n                            <MessageItem key={el.id} {...el}\n                                         userId={userId}\n                                         userPhoto={userPhoto}\n                                         authUserPhoto={authUserPhoto}/>\n                        )\n                    }\n                </div>\n                <SenderMessageFormReduxForm onSubmit={sendMessage}/>\n            </div>\n        </>\n    );\n}\n\nexport default MessageItems;\n","import css from'./Dialogs.module.css';\nimport {useHistory} from \"react-router\";\nimport DialogsItems from \"./DialogsItems\";\nimport MessageItems from \"./MessageItems\";\nimport {useEffect, useState, useCallback} from \"react\";\n\nconst Dialogs = ({dialogsPage, location, authUserPhoto, ...props}) => {\n    const [userId, setUserId]     = useState(null);\n    const [messages, setMessages] = useState([]);\n    const [dialogs, setDialogs]   = useState([]);\n    const history = useHistory();\n    let userPhoto = null;\n    let userName = null;\n\n    if(userId && dialogs.length) {\n        let user = dialogs.filter(el => el.id === userId)[0];\n        userName = user.userName;\n        userPhoto = user.photos.small;\n    }\n    useEffect(() => {\n        setMessages(dialogsPage.messages);\n    }, [dialogsPage.messages]);\n\n    useEffect(() => {\n        setDialogs(dialogsPage.dialogs);\n    }, [dialogsPage.dialogs]);\n\n    useEffect(() => {\n        let userId = Number(location.pathname.split(\"/\")[2])\n        if(userId) {\n            setUserId(userId);\n            props.getMessages(userId);\n        } else {\n            setUserId(null);\n            setMessages([]);\n        }\n        return () => {\n            setUserId(null)\n            setMessages([]);\n        }\n    }, [location.pathname, props.getMessages])\n\n    const selectDialog = (userId) => {\n        history.push(\"/dialogs/\" + userId);\n    }\n\n    const setIsSubMessage = (arr) => {\n        return arr.map((item, index) => {\n            let itemDate = new Date(item.addedAt).getTime();\n            let prevItem = dialogsPage.messages[index - 1];\n            let nextItem = dialogsPage.messages[index + 1];\n            let isSubMessage = false;\n            let resultItem = {...item, isSubMessage: isSubMessage, isNextMessageTheIsSub: false};\n            let prevItemDate = null;\n\n            if(prevItem && item.senderId === prevItem.senderId) {\n                prevItemDate = new Date(prevItem.addedAt).getTime();\n                let d  = Math.abs(itemDate - prevItemDate);\n                if( prevItemDate && d <= 600000) {\n                    resultItem = {...resultItem, isSubMessage: true}\n                }\n            }\n            if(nextItem && prevItemDate && item.senderId === prevItem.senderId) {\n                let nextItemDate = new Date(nextItem.addedAt).getTime();\n                let d2 = Math.abs(nextItemDate - prevItemDate);\n\n                if( nextItemDate && d2 <= 600000 ) {\n                    resultItem = {...resultItem, isNextMessageTheIsSub: true}\n                }\n            }\n            return resultItem\n        })\n    }\n\n    return (\n        <div className={css.dialogs}>\n            {\n                !userId &&\n                    <DialogsItems dialogs={dialogs}\n                                  userId={userId}\n                                  selectDialog={selectDialog}/>\n            }\n            {\n                !!userId && !!messages.length &&\n                    <MessageItems messages={setIsSubMessage(messages)}\n                                  userId={userId}\n                                  userName={userName}\n                                  userPhoto={userPhoto}\n                                  sendMessage={props.sendMessage}\n                                  getMessages={props.getMessages}/>\n            }\n        </div>\n    );\n}\n\nexport default Dialogs;\n","import {getDialogs, getMessages, sendMessage} from \"../../redux/dialogs-reducer\";\nimport Dialogs from \"./Dialogs\";\nimport {connect} from \"react-redux\";\nimport {WithAuthRedirect} from \"../../hoc/WithAuthRedirect\";\nimport {compose} from \"redux\";\nimport {useEffect, useCallback} from \"react\";\nimport {withRouter} from \"react-router-dom\";\n\nconst DialogContainer = (props) => {\n    let {getDialogs, getMessages, location} = props;\n    let getDialogsCb = useCallback( getDialogs, [getDialogs] )\n    let getMessagesCb = useCallback( getMessages, [getMessages] )\n\n    useEffect(() => {\n        getDialogsCb();\n    }, [getDialogsCb])\n\n    useEffect(() => {\n        if(location.pathname.split(\"/\")[2]) {\n            getMessagesCb(location.pathname.split(\"/\")[2])\n        }\n    }, [getMessagesCb, location.pathname])\n\n    return (\n        <Dialogs {...props} />\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        dialogsPage: state.dialogsPage,\n        authUserPhoto: state.auth.userData && state.auth.userData.photos && state.auth.userData.photos.small\n    }\n}\n\nconst mapDispatchToProps = {\n    sendMessage,\n    getDialogs,\n    getMessages\n}\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps),\n    WithAuthRedirect,\n    withRouter\n)(DialogContainer);\n"],"sourceRoot":""}